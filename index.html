<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Generador HTML ‚Äî Versi√≥n √Ångel</title>

<style>
    body {
        font-family: Montserrat, sans-serif;
        background: #eef3fa;
        margin: 0;
        padding: 0;
    }

    header {
        background: #003366;
        padding: 25px;
        text-align: center;
        color: white;
        font-size: 28px;
        font-weight: bold;
        letter-spacing: 1px;
    }

    .container {
        width: 90%;
        max-width: 1000px;
        margin: 30px auto;
        background: white;
        padding: 30px;
        border-radius: 16px;
        box-shadow: 0 4px 14px rgba(0,0,0,0.15);
    }

    h2.section-title {
        color: #003366;
        margin-top: 0;
        margin-bottom: 15px;
        font-size: 22px;
        border-left: 6px solid #003366;
        padding-left: 10px;
    }

    label {
        font-weight: bold;
        color: #003366;
        display: block;
        margin-bottom: 4px;
    }

    input[type="text"],
    input[type="url"],
    textarea {
        width: 100%;
        padding: 10px;
        font-size: 15px;
        border-radius: 8px;
        border: 1px solid #aac1d8;
        margin-bottom: 15px;
        font-family: Montserrat, sans-serif;
    }

    textarea {
        height: 90px;
        resize: vertical;
    }

    #minutos-container {
        background: #f2f6ff;
        padding: 15px;
        border-radius: 12px;
        border: 1px solid #c3d4f0;
        margin-bottom: 20px;
    }

    .boton {
        display: inline-block;
        background: #0056b3;
        color: white;
        padding: 12px 18px;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        margin-top: 10px;
        font-size: 16px;
        font-weight: bold;
        transition: 0.3s;
    }

    .boton:hover {
        background: #003f80;
    }

    #resultado {
        margin-top: 40px;
        padding: 20px;
        background: #fafcff;
        border: 1px solid #c3d4f0;
        border-radius: 12px;
    }

    #codigo {
        width: 100%;
        height: 450px;
        border-radius: 10px;
        padding: 12px;
        font-family: monospace;
        font-size: 14px;
    }

    .btn-copy {
        background: #28a745;
        margin-top: 15px;
    }

</style>
</head>

<body>

<header>üìò Generador Autom√°tico de Bloques HTML ‚Äî Versi√≥n √Ångel</header>

<div class="container">

    <h2 class="section-title">Datos generales</h2>

    <label>T√≠tulo del bloque</label>
    <input id="titulo_bloque" type="text">

    <label>P√°rrafo de introducci√≥n</label>
    <textarea id="intro"></textarea>

    <label>Link del video de YouTube</label>
    <input id="link_video" type="url">

    <label>PDF Transcripci√≥n</label>
    <input id="pdf_trans" type="url">

    <label>PDF Notas</label>
    <input id="pdf_notas" type="url">

    <label>Link a la actividad</label>
    <input id="link_actividad" type="url">

    <label>Texto del bot√≥n final</label>
    <input id="texto_boton" type="text">

    <label>Texto del BLOQUE FINAL PARA CONTINUAR</label>
    <textarea id="texto_bloque_final"></textarea>


    <h2 class="section-title">üïê Minutos clave</h2>

    <button class="boton" onclick="agregarMinuto()">‚ûï Agregar minuto</button>

    <div id="minutos-container"></div>

    <button class="boton" onclick="generarHTML()">‚ú® Generar HTML</button>


    <div id="resultado" style="display:none;">
        <h2 class="section-title">Resultado</h2>
        <textarea id="codigo"></textarea>
        <button class="boton btn-copy" onclick="copiar()">üìã Copiar al portapapeles</button>
    </div>

</div>


<script>
let minutoCount = 0;

function agregarMinuto() {
    minutoCount++;
    const cont = document.getElementById("minutos-container");

    cont.innerHTML += `
        <div style="padding:10px 0;">
            <label>Minuto ${minutoCount} (mm:ss o mm)</label>
            <input type="text" id="m_${minutoCount}" placeholder="Ej: 1:30">

            <label>Texto que acompa√±a al minuto ${minutoCount}</label>
            <input type="text" id="t_${minutoCount}" placeholder="Ej: Explicaci√≥n del concepto">
        </div>
    `;
}

function embedYT(url) {
    if (url.includes("watch?v=")) {
        let id = url.split("watch?v=")[1].split("&")[0];
        return "https://www.youtube.com/embed/" + id;
    }
    if (url.includes("youtu.be/")) {
        let id = url.split("youtu.be/")[1].split("?")[0];
        return "https://www.youtube.com/embed/" + id;
    }
    return url;
}

function formatMin(m) {
    if (!m.includes(":")) return m.padStart(2,"0")+":00";

    let [mm, ss] = m.split(":");
    return mm.padStart(2,"0") + ":" + ss.padStart(2,"0");
}

function toSeconds(m) {
    let [mm, ss] = m.split(":");
    return parseInt(mm)*60 + parseInt(ss);
}


function generarHTML() {

    let titulo = document.getElementById("titulo_bloque").value;
    let intro = document.getElementById("intro").value;
    let link = embedYT(document.getElementById("link_video").value);
    let pdfT = document.getElementById("pdf_trans").value;
    let pdfN = document.getElementById("pdf_notas").value;
    let linkAct = document.getElementById("link_actividad").value;
    let txtBoton = document.getElementById("texto_boton").value;
    let txtFinal = document.getElementById("texto_bloque_final").value;

    let listaMin = "";

    for (let i=1; i<=minutoCount; i++) {
        let m = document.getElementById("m_"+i).value.trim();
        if (!m) continue;
        let mmss = formatMin(m);
        let sec = toSeconds(mmss);
        let texto = document.getElementById("t_"+i).value;

        listaMin += `
        <!-- ENLACE A ${mmss} -->
        <li>
          üîπ <strong>Minuto
            <a
              style="
                color: #0056b3;
                text-decoration: none;
                font-weight: bold;
              "
              href="${link}?start=${sec}"
              target="_blank"
              rel="noopener">
              ${mmss}
            </a>:
          </strong>
          ${texto}
        </li>
`;
    }

    // üåü HTML EXACTO (sin alterar indentaci√≥n)
    let html = `<!-- CONTENEDOR PRINCIPAL -->
<div lang="es-mx"
  style="
    font-family: Montserrat, sans-serif;
    background-color: #e2eaf7;
    padding: 35px;
    margin: 25px auto;
    width: 90%;
    border-radius: 12px;
    box-shadow: 0 0 6px rgba(0, 0, 0, 0.5);
    text-align: justify;
    position: relative;
  ">

  <!-- T√çTULO DEL BLOQUE -->
  <h2
    style="
      color: #003366;
      text-align: center;
      font-weight: bold;
      margin-bottom: 15px;
    ">
    ${titulo}
  </h2>

  <!-- P√ÅRRAFO DE INTRODUCCI√ìN -->
  <p
    style="
      font-size: 1.05em;
      color: #333;
      line-height: 1.6;
    ">
    ${intro}
  </p>

  <p><strong>Haz clic en el siguiente video para comenzar.</strong></p>

  <!-- CONTENEDOR DEL VIDEO -->
  <div
    style="
      margin-top: 25px;
      border-radius: 16px;
      background-color: #e9f4ff;
      padding: 15px;
      text-align: center;
      box-shadow: 0 0 6px rgba(0, 0, 0, 0.5);
    ">

    <!-- VIDEO DE YOUTUBE -->
    <iframe
      style="
        border-radius: 12px;
        box-shadow:
          inset 4px 4px 8px #cbd5e1,
          inset -4px -4px 8px #ffffff;
      "
      src="${link}"
      width="100%"
      height="260"
      frameborder="0"
      allowfullscreen>
    </iframe>
  </div>

  <!-- SECCI√ìN COLAPSABLE DE MINUTOS IMPORTANTES -->
  <details
    style="
      margin-top: 30px;
      border-radius: 10px;
      background-color: #f5f8ff;
      padding: 18px;
      box-shadow: 0 0 6px rgba(0, 0, 0, 0.5);
    ">

    <summary
      style="
        cursor: pointer;
        font-weight: bold;
        color: #004a99;
        font-size: 1.1em;
      ">
      üïê Minutos claves
    </summary>

    <!-- CONTENIDO DE MINUTOS -->
    <div
      style="
        margin-top: 15px;
        font-size: 1.05em;
        color: #333;
      "> 

      <p>Accede r√°pidamente a los momentos clave del video:</p>

      <!-- LISTA -->
      <ul
        style="
          list-style-type: none;
          padding-left: 10px;
          line-height: 1.8;
        ">
${listaMin}
      </ul>

    </div>
  </details>

  <!-- CONTENEDOR CON DOS TARJETAS -->
  <div
    style="
      margin-top: 30px;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 25px;
    ">

    <!-- TARJETA 1 -->
    <div
      style="
        background-color: #f4f7ff;
        border-radius: 14px;
        padding: 20px;
        text-align: center;
        box-shadow: 0 0 6px rgba(0, 0, 0, 0.5);
      ">
      <div
        style="
          font-size: 40px;
          margin-bottom: 10px;
        ">
        üìë
      </div>

      <h4
        style="
          margin: 0;
          color: #003366;
        ">
        Transcripci√≥n
      </h4>

      <p
        style="
          font-size: 0.95em;
          color: #555;
          margin-top: 5px;
        ">
        Archivo PDF con la transcripci√≥n completa del video introductorio.
      </p>

      <a
        href="${pdfT}"
        style="
          display: inline-block;
          margin-top: 12px;
          padding: 10px 18px;
          background-color: #0056b3;
          color: white;
          border-radius: 8px;
          text-decoration: none;
          font-weight: bold;
          font-size: 0.95em;
        ">
        Descargar
      </a>
    </div>

    <!-- TARJETA 2 -->
    <div
      style="
        background-color: #f4f7ff;
        border-radius: 14px;
        padding: 20px;
        text-align: center;
        box-shadow: 0 0 6px rgba(0, 0, 0, 0.5);
      ">
      <div
        style="
          font-size: 40px;
          margin-bottom: 10px;
        ">
        üìï
      </div>

      <h4
        style="
          margin: 0;
          color: #003366;
        ">
        Notas del video
      </h4>

      <p
        style="
          font-size: 0.95em;
          color: #555;
          margin-top: 5px;
        ">
        Resumen y puntos clave de la presentaci√≥n del curso.
      </p>

      <a
        href="${pdfN}"
        style="
          display: inline-block;
          margin-top: 12px;
          padding: 10px 18px;
          background-color: #2a6cd6;
          color: white;
          border-radius: 8px;
          text-decoration: none;
          font-weight: bold;
          font-size: 0.95em;
        ">
        Descargar
      </a>
    </div>

  </div>

  <!-- BLOQUE FINAL -->
  <div
    style="
      background-color: #cfe2ff;
      padding: 20px;
      border-radius: 10px;
      margin-top: 30px;
      border-left: 6px solid #0056b3;
      box-shadow: 0 5px 6px rgba(0,0,0,0.2);
    ">
    <h3
      style="
        color: #003366;
        margin-bottom: 10px;
      ">
      üß© Contin√∫a con la siguiente actividad
    </h3>

    <p
      style="
        font-size: 1.05em;
        color: #333;
        line-height: 1.6;
      ">
      ${txtFinal}
    </p>
  </div>

  <!-- BOT√ìN -->
  <div
    style="
      text-align: center;
      margin-top: 20px;
    ">
    <a
      style="
        display: inline-block;
        padding: 12px 25px;
        background-color: #0056b3;
        color: white;
        text-decoration: none;
        font-weight: bold;
        border-radius: 8px;
        box-shadow: 0 0 6px rgba(0, 0, 0, 0.5);
        transition: 0.3s;
      "
      href="${linkAct}">
      ${txtBoton}
    </a>
  </div>

</div>`;

    document.getElementById("resultado").style.display = "block";
    document.getElementById("codigo").value = html;
}

function copiar() {
    const text = document.getElementById("codigo");
    text.select();
    navigator.clipboard.writeText(text.value);
    alert("C√≥digo copiado ‚úî");
}
</script>
</body>
</html>
